<!DOCTYPE html>
<html lang="en">
<head>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script>

  <link href="https://use.fontawesome.com/releases/v5.0.2/css/all.css" rel="stylesheet">

  <script src="//code.jquery.com/jquery-latest.min.js"></script>

  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <link rel='stylesheet' href='//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.css'>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>EcologicalNetwork.jl - Understanding the type system</title>
  <link rel="stylesheet" href="/styles/main.css">
</head>

<body>

  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <!-- <a class="navbar-brand" href="#">
        <img src="/logo.png" alt="">
      </a> -->
      <a class="navbar-brand" href="/">EcologicalNetwork.jl</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Case studies
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="/casestudies/specificity/">Measuring specificity</a>
              <a class="dropdown-item" href="/casestudies/nestedness/">Nestedness significance</a>
              <a class="dropdown-item" href="/casestudies/betadiv/">Network comparison</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Manual
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="/manual/types/">Types</a>
              <a class="dropdown-item" href="/manual/generalities">Generalities</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/manual/nestedness/">Measuring nestedness</a>
              <a class="dropdown-item" href="/manual/motifs/">Counting motifs</a>
              <a class="dropdown-item" href="/manual/betadiversity/">Network dissimilarity</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/manual/data/">Datasets</a>
              <a class="dropdown-item" href="/manual/plots/">Network plots</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">API reference</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container maincontent">
    <h1>Understanding the type system</h1>
    <p><code class="highlighter-rouge">EcologicalNetwork</code> uses a series of types to represent networks. Before we
dig in, it is important to get a sense of what the types can do for you. The
type of a network is used to define the types of things you can do to it. For
example, the correct way to measure nestedness changes depending on if the
network is quantitative or binary. Picking the correct network is important,
and this page will walk you through the different types available.</p>

<h2 id="network-types">Network types</h2>

<p>There are three types of networks: binary (where interactions are either
present or absent), quantitative (interactions have a strength), and
probabilistic (interactions have a probability of happening). All of these
networks share the same underlying structure: a matrix that can store
elements of different types, and species names. This matrix is stored in the
field <code class="highlighter-rouge">A</code> of the network object.</p>

<p>Species names are stored differently depending on whether the network is
bipartite or unipartite. In unipartite networks (<em>e.g.</em> food webs), there is
a single field <code class="highlighter-rouge">S</code> for species. In bipartite networks, there are two fields
<code class="highlighter-rouge">T</code> and <code class="highlighter-rouge">B</code>, for the top and bottom level of the network. The names of
species are either <code class="highlighter-rouge">AbstractString</code> or <code class="highlighter-rouge">Symbol</code> values (and they cannot be
mixed with a single network).</p>

<p>The interactions go from the rows, to the columns, of the matrix in <code class="highlighter-rouge">A</code>. In
practice, there is no need to call the fields directly: we can access the
species names using the <code class="highlighter-rouge">species</code> functions.</p>

<p>Types are named using the <code class="highlighter-rouge">{Partiteness}{Type}Network</code>, where <code class="highlighter-rouge">{Partiteness}</code>
is either <code class="highlighter-rouge">Unipartite</code> or <code class="highlighter-rouge">Bipartite</code>, and  <code class="highlighter-rouge">{Type}</code> is either
<code class="highlighter-rouge">Probabilistic</code> or <code class="highlighter-rouge">Quantitative</code> – the <code class="highlighter-rouge">Binary</code> type, being considered the
default, is omitted. The six basic types available are therefore
<code class="highlighter-rouge">BipartiteNetwork</code>, <code class="highlighter-rouge">UnipartiteNetwork</code>, <code class="highlighter-rouge">BipartiteQuantitativeNetwork</code>,
<code class="highlighter-rouge">UnipartiteQuantitativeNetwork</code>, <code class="highlighter-rouge">BipartiteProbabilisticNetwork</code>, and
<code class="highlighter-rouge">UnipartiteProbabilisticNetwork</code>.</p>

<p>The table below summarizes the different types, and the “collections” (type
unions) to which they belong:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Partiteness</th>
      <th style="text-align: left">Interaction</th>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Values</th>
      <th style="text-align: left">Unions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Unipartite</td>
      <td style="text-align: left">binary</td>
      <td style="text-align: left"><code class="highlighter-rouge">UnipartiteNetwork</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">Bool</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">BinaryNetwork</code>;<code class="highlighter-rouge">DeterministicNetwork</code></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">quantitative</td>
      <td style="text-align: left"><code class="highlighter-rouge">UnipartiteQuantitativeNetwork</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">Number</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">DeterministicNetwork</code></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">probabilistic</td>
      <td style="text-align: left"><code class="highlighter-rouge">UnipartiteProbabilisticNetwork</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">AbstractFloat</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">ProbabilisticNetwork</code></td>
    </tr>
    <tr>
      <td style="text-align: left">Bipartite</td>
      <td style="text-align: left">binary</td>
      <td style="text-align: left"><code class="highlighter-rouge">BipartiteNetwork</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">Bool</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">BinaryNetwork</code>;<code class="highlighter-rouge">DeterministicNetwork</code></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">quantitative</td>
      <td style="text-align: left"><code class="highlighter-rouge">BipartiteQuantitativeNetwork</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">Number</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">DeterministicNetwork</code></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">probabilistic</td>
      <td style="text-align: left"><code class="highlighter-rouge">BipartiteProbabilisticNetwork</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">AbstractFloat</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">ProbabilisticNetwork</code></td>
    </tr>
  </tbody>
</table>

<p>Although not specified in the table, <em>all</em> networks belong to
<code class="highlighter-rouge">AbstractUnipartiteNetwork</code>; all bipartite networks belong to
<code class="highlighter-rouge">AbstractBipartiteNetwork</code>; all unipartite networks belong to
<code class="highlighter-rouge">AbstractUnipartiteNetwork</code>. This type hierarchy is used extensively to make
sure that the correct function is applied to the correct network, and can be
used by users when writing their own functions.</p>

<h2 id="network-conversions">Network conversions</h2>

<p>Network objects can be converted into objects of another type. For example,
the information about interaction strength can be removed by converting a
<code class="highlighter-rouge">BipartiteQuantitativeNetwork</code> into a <code class="highlighter-rouge">BipartiteNetwork</code>. Let us start by
loading a network:</p>

<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">N</span> <span class="o">=</span> <span class="n">fonseca_ganade_1996</span><span class="x">();</span>
<span class="nb">typeof</span><span class="x">(</span><span class="n">N</span><span class="x">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EcologicalNetwork.BipartiteQuantitativeNetwork{Int64,String}
</code></pre></div></div>

<p>The conversion itself is performed with:</p>

<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">M</span> <span class="o">=</span> <span class="nb">convert</span><span class="x">(</span><span class="n">BipartiteNetwork</span><span class="x">,</span> <span class="n">N</span><span class="x">);</span>
<span class="nb">typeof</span><span class="x">(</span><span class="n">M</span><span class="x">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EcologicalNetwork.BipartiteNetwork{String}
</code></pre></div></div>

<p>The conversion system also uses abstract types to make your life easier: we
can convert to an abstract type, which makes the code more general. To change
the partiteness of a network, we can use the <code class="highlighter-rouge">AbstractUnipartiteNetwork</code>
conversion.</p>

<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">typeof</span><span class="x">(</span><span class="nb">convert</span><span class="x">(</span><span class="n">AbstractUnipartiteNetwork</span><span class="x">,</span> <span class="n">N</span><span class="x">))</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EcologicalNetwork.UnipartiteQuantitativeNetwork{Int64,String}
</code></pre></div></div>

<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">typeof</span><span class="x">(</span><span class="nb">convert</span><span class="x">(</span><span class="n">BinaryNetwork</span><span class="x">,</span> <span class="n">N</span><span class="x">))</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EcologicalNetwork.BipartiteNetwork{String}
</code></pre></div></div>

<p>These transformations can be chained together: to project the network into a
unipartite shape <em>and</em> remove quantitative information, we can use the
following:</p>

<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">M</span> <span class="o">=</span> <span class="n">N</span> <span class="o">|&gt;</span>
  <span class="n">x</span> <span class="o">-&gt;</span> <span class="nb">convert</span><span class="x">(</span><span class="n">AbstractUnipartiteNetwork</span><span class="x">,</span> <span class="n">x</span><span class="x">)</span> <span class="o">|&gt;</span>
  <span class="n">x</span> <span class="o">-&gt;</span> <span class="nb">convert</span><span class="x">(</span><span class="n">BinaryNetwork</span><span class="x">,</span> <span class="n">x</span><span class="x">);</span>
<span class="nb">typeof</span><span class="x">(</span><span class="n">M</span><span class="x">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EcologicalNetwork.UnipartiteNetwork{String}
</code></pre></div></div>


  </div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script type="text/javascript">
  $(function () {
    $('[data-toggle="popover"]').popover({html:true})
  })
  $('.popover-dismiss').popover({
    trigger: 'focus'
  })
  </script>
  <script type="text/javascript">

Array.prototype.uav = function()
{
  var n = {},r=[];
  for(var i = 0; i < this.length; i++)
  {
    if (!n[this[i]])
    {
      n[this[i]] = true;
      r.push(this[i]);
    }
  }
  return r;
}

var regexp = /(\[?)(@)(\w+\d{2}\w?)(\]?)/g;

var refs;
jQuery.ajaxSetup({async:false});
gref = function(d) {refs = d; return refs;}
$.getJSON("/references.json", gref);
jQuery.ajaxSetup({async:true});

match = regexp.exec($('.maincontent').text());
while (match != null) {
  var matchedref = match[3];
  var brackets = match[1] == "[";
  var ref = refs.filter(function(a){return a['id'] == matchedref})[0];

  var inline = "";
  inline += ref['author'][0]['family'];
  if (ref['author'].length == 2) {
    inline += " & ";
    inline += ref['author'][1]['family'];
  }
  if (ref['author'].length > 2) {
    inline += " et al.";
  }

  var GOTO = '';
  if (ref['DOI']) {
    var GOTO = "http://dx.doi.org/"+ref['DOI'];
  } else {
    if (ref['URL']) {
      var GOTO = ref['URL'];
    } else {
      var GOTO = "#";
    }
  }

  var pubyear = ref['issued']['date-parts'][0][0];
  reflink = "<a href='" + GOTO + "' title='" + ref['title'] + "' target='_blank' >Read it!</a>";
  btn = '<a tabindex="0" class="biblio-ref" role="button" data-toggle="popover" data-trigger="focus" title="' + inline + ' (' + pubyear + ')" data-content="' + ref['title'] + '<hr />' + reflink + '"><i class="far fa-file-alt"></i></a>';
  pubyear = btn;
  if (brackets) {
    inline = pubyear;
  } else {
    inline = inline + " " + pubyear;
  }


  var new_html = $('.maincontent').html().replace(match[0], inline);
  $('.maincontent').html(function() {return new_html});

  match = regexp.exec($('.maincontent').text());
}

</script>

</body>
</html>
