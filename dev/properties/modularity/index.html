<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Modularity · EcologicalNetworks</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../index.html"><img class="logo" src="../../assets/logo.png" alt="EcologicalNetworks logo"/></a><h1>EcologicalNetworks</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Index</a></li><li><span class="toctext">Interface</span><ul><li><a class="toctext" href="../../interface/types/">Types</a></li><li><a class="toctext" href="../../interface/conversions/">Conversions</a></li><li><a class="toctext" href="../../interface/highlevel/">Core functions</a></li></ul></li><li><span class="toctext">Network measures</span><ul><li><a class="toctext" href="../links/">Links</a></li><li class="current"><a class="toctext" href>Modularity</a><ul class="internal"><li><a class="toctext" href="#Measures-1">Measures</a></li><li><a class="toctext" href="#Starters-1">Starters</a></li><li><a class="toctext" href="#Optimizers-1">Optimizers</a></li><li><a class="toctext" href="#Functional-roles-1">Functional roles</a></li></ul></li><li><a class="toctext" href="../nestedness/">Nestedness</a></li><li><a class="toctext" href="../motifs/">Motifs</a></li><li><a class="toctext" href="../paths/">Centrality and paths</a></li><li><a class="toctext" href="../overlap/">Overlap and similarity</a></li><li><a class="toctext" href="../nullmodels/">Null models</a></li><li><a class="toctext" href="../information/">Information theory</a></li><li><a class="toctext" href="../betadiversity/">Beta-diversity</a></li></ul></li><li><a class="toctext" href="../../plots/">Plots</a></li></ul></nav><article id="docs"><header><nav><ul><li>Network measures</li><li><a href>Modularity</a></li></ul><a class="edit-page" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/master/docs/src/properties/modularity.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Modularity</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Modularity-1" href="#Modularity-1">Modularity</a></h1><p>The analysis of network modularity is done in three steps:</p><ol><li>generate a starting point, using one of the starter functions</li><li>optimize modularity</li><li>analyse the output</li></ol><p>All starter functions take a network as input, and return a tuple of this network and a dictionary where every species maps onto its module. This forms the input of all other modularity related functions.</p><h2><a class="nav-anchor" id="Measures-1" href="#Measures-1">Measures</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="EcologicalNetworks.Q" href="#EcologicalNetworks.Q"><code>EcologicalNetworks.Q</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">Q(N::T, L::Dict{E,Int64}) where {T&lt;:AbstractEcologicalNetwork,E}</code></pre><p>Modularity of a network and its partition. The second argument is a dictionary where every species of <code>N</code> is associated to an <code>Int64</code> value representing the identity of the module. This function returns the same value of bipartite networks and their unipartite projection.</p><p><strong>References</strong></p><p>Barber, M.J., 2007. Modularity and community detection in bipartite networks. Phys. Rev. E 76, 066102. https://doi.org/10.1103/PhysRevE.76.066102</p><p>Newman, M.E., 2006. Modularity and community structure in networks. Proceedings of the national academy of sciences 103, 8577–8582.</p></div></div><a class="source-link" target="_blank" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/299a5b5f770dab32e30124942e66045ed98ca573/src/modularity/utilities.jl#L13-L28">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="EcologicalNetworks.Qr" href="#EcologicalNetworks.Qr"><code>EcologicalNetworks.Qr</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">Qr(N::T, L::Dict{E,Int64}) where {T&lt;:AbstractEcologicalNetwork,E}</code></pre><p>Realized modularity – this function returns a value giving the proportion of all links that are within the same module. Higher values reflect a more strongly modular partition (whereas <code>Q</code> represents the deviation of modularity from the random expectation).</p><p><strong>References</strong></p><p>Poisot, T., 2013. An a posteriori measure of network modularity. F1000Research</p><ol><li>https://doi.org/10.12688/f1000research.2-130.v3</li></ol></div></div><a class="source-link" target="_blank" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/299a5b5f770dab32e30124942e66045ed98ca573/src/modularity/utilities.jl#L55-L67">source</a></section><h2><a class="nav-anchor" id="Starters-1" href="#Starters-1">Starters</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="EcologicalNetworks.n_random_modules" href="#EcologicalNetworks.n_random_modules"><code>EcologicalNetworks.n_random_modules</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">n_random_modules(n::Int64)</code></pre><p>This returns <em>a function</em> which, when applied to a network, will randomly assign every species to one of <code>n</code> modules. The correct way to apply this function to a network <code>N</code> is, therefore <code>n_random_modules(4)(N)</code> (with four modules).</p><p><strong>References</strong></p><p>Thébault, E., 2013. Identifying compartments in presence–absence matrices and bipartite networks: insights into modularity measures. Journal of Biogeography 40, 759–768. https://doi.org/10.1111/jbi.12015</p></div></div><a class="source-link" target="_blank" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/299a5b5f770dab32e30124942e66045ed98ca573/src/modularity/starters.jl#L1-L13">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="EcologicalNetworks.each_species_its_module" href="#EcologicalNetworks.each_species_its_module"><code>EcologicalNetworks.each_species_its_module</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">each_species_its_module(N::T) where {T&lt;:AbstractEcologicalNetwork}</code></pre><p>Returns a dictionary in which each species is its own module. This is used as a starting point for <code>lp</code> and <code>salp</code> internally. This is often a very poor starting point for <code>brim</code>, and should probably not be used on its own.</p><p><strong>References</strong></p><p>Thébault, E., 2013. Identifying compartments in presence–absence matrices and bipartite networks: insights into modularity measures. Journal of Biogeography 40, 759–768. https://doi.org/10.1111/jbi.12015</p></div></div><a class="source-link" target="_blank" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/299a5b5f770dab32e30124942e66045ed98ca573/src/modularity/starters.jl#L20-L32">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="EcologicalNetworks.lp" href="#EcologicalNetworks.lp"><code>EcologicalNetworks.lp</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">lp(N::T) where {T&lt;:AbstractEcologicalNetwork}</code></pre><p>Uses label propagation to generate a first approximation of the modular structure of a network. This is usually followed by the BRIM (<code>brim</code>) method. This method supposedly performs better for large graphs, but we rarely observed any differences between it and variations of BRIM alone on smaller graphs.</p><p><strong>References</strong></p><p>Liu, X., Murata, T., 2009. Community Detection in Large-Scale Bipartite Networks, in: 2009 IEEE/WIC/ACM International Joint Conference on Web Intelligence and Intelligent Agent Technology. Institute of Electrical &amp; Electronics Engineers (IEEE). https://doi.org/10.1109/wi-iat.2009.15</p></div></div><a class="source-link" target="_blank" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/299a5b5f770dab32e30124942e66045ed98ca573/src/modularity/labelpropagation.jl#L1-L15">source</a></section><h2><a class="nav-anchor" id="Optimizers-1" href="#Optimizers-1">Optimizers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="EcologicalNetworks.brim" href="#EcologicalNetworks.brim"><code>EcologicalNetworks.brim</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">brim(N::NT, L::Dict{E,Int64}) where {NT&lt;:AbstractEcologicalNetwork,E}</code></pre><p>Uses BRIM to optimize the modularity of an ecological network. The <code>L</code> argument is a dictionary mapping every species in the network to its module. This function returns a tuple of the network and its module assignment.</p><p><strong>References</strong></p><p>Barber, M.J., 2007. Modularity and community detection in bipartite networks. Phys. Rev. E 76, 066102. https://doi.org/10.1103/PhysRevE.76.066102</p><p>Newman, M.E., 2006. Modularity and community structure in networks. Proceedings of the national academy of sciences 103, 8577–8582.</p><p>Thébault, E., 2013. Identifying compartments in presence–absence matrices and bipartite networks: insights into modularity measures. Journal of Biogeography 40, 759–768. https://doi.org/10.1111/jbi.12015</p></div></div><a class="source-link" target="_blank" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/299a5b5f770dab32e30124942e66045ed98ca573/src/modularity/brim.jl#L1-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="EcologicalNetworks.salp" href="#EcologicalNetworks.salp"><code>EcologicalNetworks.salp</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">salp(N::T; θ::Float64=1.0, steps::Int64=10_000, λ::Float64=0.999, progress::Bool=false) where {T &lt;: BipartiteNetwork}</code></pre><p>Label-propagation using simulated annealing. This function uses simulated annealing to propagate labels from neighboring nodes. It accepts a network as input. The schedule of the simulated annealing is linear: at step k+1, the temperature is θλᵏ. The initial temperature has been picked so that after 100 timesteps, using the default λ, a move decreasing modularity by 0.05 (20% of the theoretical maximum) is picked with a probability of 0.1.</p><p>Optional arguments regulating the behavior of the simulated annealing routine are:</p><ul><li><code>λ=0.999</code>, the rate of temperature decay</li><li><code>θ=0.002</code>, the initial temperature</li><li><code>steps=10_000</code>, the number of annealing steps to perform</li><li><code>progress=false</code>, whether to display an info message every 100 timesteps</li></ul><p>The θ parameter can be picked using the following method: if we want to allow a maximal loss of modularity of δ, after timestep k, with a decay parameter λ, with a probability P, then θ = -δ/[λᵏ×ln(P)]⁻¹. By beibg more or less restrictive on these parameters, the user can pick a value of θ for every problem.</p><p>This function can work as a first step (like <code>lp</code>), but in explorations during the development of the package, we found that <code>brim</code> was rarely (if ever) able to optmize the output further. It can therefore be used on its own.</p></div></div><a class="source-link" target="_blank" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/299a5b5f770dab32e30124942e66045ed98ca573/src/modularity/labelpropagation.jl#L66-L93">source</a></section><h2><a class="nav-anchor" id="Functional-roles-1" href="#Functional-roles-1">Functional roles</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="EcologicalNetworks.functional_cartography" href="#EcologicalNetworks.functional_cartography"><code>EcologicalNetworks.functional_cartography</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">functional_cartography(N::T, L::Dict{E,Int64}) where {T&lt;:BinaryNetwork, E}</code></pre><p>This function will take the output of a modularity analysis (<em>i.e.</em> a network and a partition), and return a dictionary where every species is associated to its functional role, as defined in Olesen et al (2005). The first element is the within-module degree z-score, and the second is the participation coefficient.</p><p><strong>References</strong></p><p>Guimerà, R., Amaral, L.A.N., 2005. Cartography of complex networks: modules and universal roles. Journal of Statistical Mechanics: Theory and Experiment 2005, P02001. https://doi.org/10.1088/1742-5468/2005/02/P02001</p><p>Guimerà, R., Nunes Amaral, L.A., 2005. Functional cartography of complex metabolic networks. Nature 433, 895–900. https://doi.org/10.1038/nature03288</p><p>Olesen, J.M., Bascompte, J., Dupont, Y.L., Jordano, P., 2007. The modularity of pollination networks. Proceedings of the National Academy of Sciences 104, 19891–19896. https://doi.org/10.1073/pnas.0706375104</p></div></div><a class="source-link" target="_blank" href="https://github.com/PoisotLab/EcologicalNetworks.jl/blob/299a5b5f770dab32e30124942e66045ed98ca573/src/modularity/roles.jl#L1-L21">source</a></section><footer><hr/><a class="previous" href="../links/"><span class="direction">Previous</span><span class="title">Links</span></a><a class="next" href="../nestedness/"><span class="direction">Next</span><span class="title">Nestedness</span></a></footer></article></body></html>
